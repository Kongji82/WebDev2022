# TDD (Test-Driven-Development)
TDD란 Test Driven Development의 약자로 ‘테스트 주도 개발’이라고 한다.

테스트 주도 개발(TDD)은 설계 이후 코드 개발 및 테스트케이스를 작성하는 기존의 개발 프로세스와 다르게 테스트케이스를 작성 한 후 실제 코드를 개발하여 리펙토링하는 절차를 따른다. 이러한 이유로 TDD를 Test First Development라고도 한다.

## 테스트 코드의 장점
단위 테스트를 작성해야 하는 이유는 많다. 그 중에서 몇 가지 핵심적인 이유들을 작성하면 다음과 같다.

- 코드를 수정하거나 기능을 추가할 때 수시로 빠르게 검증 할 수 있다.
- 리팩토링 시에 안정성을 확보할 수 있다.
- 개발 및 테스팅에 대한 시간과 비용을 절감할 수 있다.

## 테스트 코드를 먼저 작성해야 하는 이유

- 깔끔한 코드를 작성할 수 있다.
- 장기적으로 개발 비용을 절감할 수 있다.
- 개발이 끝나면 테스트 코드를 작성하는 것은 매우 귀찮다. 실패 케이스면 더욱 그렇다.

## TDD(Test-Driven Development, 테스트 주도 개발) 방법 및 순서

1. 실패하는 작은 단위 테스트를 작성한다. 처음에는 컴파일조차 되지 않을 수 있다.
2. 빨리 테스트를 통과하기 위해 프로덕션 코드를 작성한다. 이를 위해 정답이 아닌 가짜 구현 등을 작성할 수도 있다.
3. 그 다음의 테스트 코드를 작성한다. 실패 테스트가 없을 경우에만 성공 테스트를 작성한다.
4. 새로운 테스트를 통과하기 위해 프로덕션 코드를 추가 또는 수정한다.
5. 1~4단계를 반복하여 실패/성공의 모든 테스트 케이스를 작성한다.
6. 개발된 코드들에 대해 모든 중복을 제거하며 리팩토링한다.

개인적으로 테스트 코드 없이 개발을 하면서, 새로운 기능을 추가하고 프로젝트의 규모가 커질때마다 코드를 나 자신이 일일이 테스트를 진행하게 되었고, 당장 눈에 보이지 않는 오류가 후에 다른 기능을 개발할 때 나타나게 되었다.
후에는 기능 하나를 테스트 하기위해 많은 시간을 들이게 되었고, 테스트 자동화의 필요성을 느끼게 되었다.

## TDD 장점
### 보다 튼튼한 객체 지향적인 코드 생산
- TDD는 코드의 재사용 보장을 명시하므로 TDD를 통한 소프트웨어 개발 시 기능 별 철저한 모듈화가 이뤄진다. 이는 종속성과 의존성이 낮은 모듈로 조합된 소프트웨어 개발을 가능하게 하며 필요에 따라 모듈을 추가하거나 제거해도 소프트웨어 전체 구조에 영향을 미치지 않게 된다.

### 재설계 시간의 단축
- 테스트 코드를 먼저 작성하기 때문에 개발자가 지금 무엇을 해야하는지 분명히 정의하고 개발을 시작하게 된다. 또한 테스트 시나리오를 작성하면서 다양한 예외사항에 대해 생각해볼 수 있다. 이는 개발 진행 중 소프트웨어의 전반적인 설계가 변경되는 일을 방지할 수 있다.

### 디버깅 시간의 단축
- 이는 유닛 테스팅을 하는 이점이기도 하다. 예를 들면 사용자의 데이터가 잘못 나온다면 DB의 문제인지, 비즈니스 레이어의 문제인지 UI의 문제인지 실제 모든 레이러들을 전부 디버깅 해야하지만, TDD의 경우 자동화 된 유닛테스팅을 전재하므로 특정 버그를 손 쉽게 찾아낼 수 있다.

### 테스트 문서의 대체 가능
- 주로 SI 프로젝트 진행 과정에서 어떤 요소들이 테스트 되었는지 테스트 정의서를 만든다. 이것은 단순 통합 테스트 문서에 지나지 않는다. 하지만 TDD를 하게 될 경우 테스팅을 자동화 시킴과 동시에 보다 정확한 테스트 근거를 산출할 수 있다.

### 추가 구현의 용이함
- 개발이 완료된 소프트웨어에 어떤 기능을 추가할 때 가장 우려되는 점은 해당 기능이 기존 코드에 어떤 영향을 미칠지 알지 못한다는 것이다. 하지만 TDD의 경우 자동화된 유닛 테스팅을 전제하므로 테스트 기간을 획기적으로 단축시킬 수 있다.


## TDD 단점
가장 큰 단점은 바로 생산성의 저하이다.

- 개발 속도가 느려진다고 생각하는 사람이 많기 때문에 TDD에 대해 반신반의 한다. 왜냐하면 처음부터 2개의 코드를 짜야하고, 중간중간 테스트를 하면서 고쳐나가야 하기 때문이다. TDD 방식의 개발 시간은 일반적인 개발 방식에 비해 대략 10~30% 정도로 늘어난다.
- SI 프로젝트에서는 소프트웨어의 품질보다 납기일 준수가 훨씬 중요하기 때문에 TDD 방식을 잘 사용하지 않는다.

## JUnit
Junit은 자바 프로그래밍 언어용 단위 테스트 프레임워크이다.
어노테이션을 기반을 테스트를 지원한다.
단정문(Assert)를 통해서 테스트 케이스의 기대값에 대해 수행 결과를 화인할 수 있다.
Junit5는 크게 Jupiter, Platform, Vintage 모듈로 구성되어있다.

### Junit Jupiter

- TestEngine API 구현체 - JUnit5를 구현하고 있음

### Junit Platform

- test를 실행하기 위한 뼈대
각종 IDE를 연동을 보조하는 역할

### Junit Vintage

- TestEngine 구현체 JUnit 3, 4를 구현하고 있음
JUnit 3,4 버전으로 작성된 테스트 코드를 실행할 때 사용됨

## Junit 사용설정
``` gradle
dependencies {
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
    useJUnitPlatform()
}

```

## Junit 어노테이션 알아보기

- Junit 5는 아래와 같은 테스트 라이프 사이클을 가지고 있다.


### Annotation Description


@Test:
테스트용 메소드를 표현하는 어노테이션


@BeforEach:
각 테스트 메소드가 시작되기 전에, 실행되어야 하는 메소들 표현


@AfterEach:
각 테스트 메소드가 시작된 후 실행되어야 하는 메소드르 표현


@BeforeAll:
테스트 시작 전에 실행되어야 하는 메소드를 표현(Static 처리 필요)


@AfterAll:
테스트 종료 후에 실행되어야 하는 메소드를 표현(Static 처리 필요)